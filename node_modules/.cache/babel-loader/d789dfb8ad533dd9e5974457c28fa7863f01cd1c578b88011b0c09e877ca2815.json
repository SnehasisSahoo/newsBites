{"ast":null,"code":"import _regeneratorRuntime from\"/Users/snehasis/Documents/MYF/react/news-bites-router/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/snehasis/Documents/MYF/react/news-bites-router/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/snehasis/Documents/MYF/react/news-bites-router/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function News(){/*\n  INFO: possible categories:\n  business\n  entertainment\n  environment\n  food\n  health\n  politics\n  science\n  sports\n  technology\n  top\n  world\n  */ //INFO: url params\nvar _useParams=useParams(),category=_useParams.category;var lang=\"en\";var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),res=_useState4[0],setRes=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var key=\"pub_158149fc3caf3020f346e1c3512f775588f53\";var URL=\"https://newsdata.io/api/1/news?apikey=\".concat(key,\"&category=\").concat(category,\"&language=\").concat(lang);// const URL = `https://newsdata.io/api/1/news?apikey=${key}&category=${category}&language=${lang}&page=${page}`; //page no not working for some reason\n// let hour = new Date().getHours();\nvar getNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var news;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(URL);case 3:news=_context.sent;// console.log(news.data);\nsetRes(news.data.results);// console.log(news.data);\nsetStatus(news.data.status);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getNews(){return _ref.apply(this,arguments);};}();useEffect(function(){getNews();alert('API malfunctioning: Pagination out of order.');},[page]);var pageStart=function pageStart(){setPage(0);};var pageEnd=function pageEnd(){setPage(9);};var pageUp=function pageUp(){setPage(page+1);};var pageDown=function pageDown(){setPage(page-1);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"override\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"item\",children:[\"< \",\"home\"]})}),/*#__PURE__*/_jsx(\"h1\",{style:{textTransform:\"uppercase\"},children:category}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"item\",onClick:pageStart,disabled:page<=0,children:\"<<\"}),/*#__PURE__*/_jsx(\"button\",{className:\"item\",onClick:pageDown,disabled:page<=0,children:\"<\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-no\",children:\"  \".concat(page+1,\"  \")}),/*#__PURE__*/_jsx(\"button\",{className:\"item\",onClick:pageUp,disabled:page>=9,children:\">\"}),/*#__PURE__*/_jsx(\"button\",{className:\"item\",onClick:pageEnd,disabled:page>=9,children:\">>\"})]})]}),/*#__PURE__*/_jsx(\"dl\",{children:res.length>0?/*#__PURE__*/_jsx(_Fragment,{children:res.map(function(data,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"news\",children:[/*#__PURE__*/_jsx(\"dt\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[page*10+i+1,\". \",data.title]})}),/*#__PURE__*/_jsxs(\"dd\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Breif: \"}),data.description==null?\"description not found\":data.description]}),/*#__PURE__*/_jsxs(\"a\",{href:data.link,target:\"_blank\",rel:\"noreferrer\",children:[\" \",\"read more\",\" >>\",\" \"]}),/*#__PURE__*/_jsx(\"hr\",{})]},i);})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h2\",{children:\" loading ....\"})})})]})});}","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","Link","News","category","lang","page","setPage","res","setRes","status","setStatus","key","URL","getNews","get","news","data","results","console","log","alert","pageStart","pageEnd","pageUp","pageDown","textTransform","length","map","i","title","description","link"],"sources":["/Users/snehasis/Documents/MYF/react/news-bites-router/src/components/News.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nexport default function News() {\n  /*\n  INFO: possible categories:\n  business\n  entertainment\n  environment\n  food\n  health\n  politics\n  science\n  sports\n  technology\n  top\n  world\n  */\n\n  //INFO: url params\n\n  const { category } = useParams();\n\n  const lang = \"en\";\n  const [page, setPage] = useState(0);\n  const [res, setRes] = useState([]);\n  const [status, setStatus] = useState(\"\");\n\n  const key = \"pub_158149fc3caf3020f346e1c3512f775588f53\";\n  const URL = `https://newsdata.io/api/1/news?apikey=${key}&category=${category}&language=${lang}`;\n  // const URL = `https://newsdata.io/api/1/news?apikey=${key}&category=${category}&language=${lang}&page=${page}`; //page no not working for some reason\n\n  // let hour = new Date().getHours();\n  const getNews = async () => {\n    try {\n      const news = await axios.get(URL);\n      // console.log(news.data);\n      setRes(news.data.results);\n      // console.log(news.data);\n      setStatus(news.data.status);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getNews();\n    alert('API malfunctioning: Pagination out of order.')\n  }, [page]);\n\n  const pageStart = () => {\n    setPage(0);\n  };\n\n  const pageEnd = () => {\n    setPage(9);\n  };\n\n  const pageUp = () => {\n    setPage(page + 1);\n  };\n\n  const pageDown = () => {\n    setPage(page - 1);\n  };\n\n  return (\n    <>\n      <div className=\"override\">\n        <div className=\"header\">\n          <Link to=\"/\">\n            <h2 className=\"item\">{\"< \"}home</h2>\n          </Link>\n          <h1 style={{ textTransform: \"uppercase\" }}>{category}</h1>\n          <div className=\"pagination\">\n            <button className=\"item\" onClick={pageStart} disabled={page <= 0}>\n              {\"<<\"}\n            </button>\n            <button className=\"item\" onClick={pageDown} disabled={page <= 0}>\n              {\"<\"}\n            </button>\n            <p className=\"page-no\">{`  ${page + 1}  `}</p>\n            <button className=\"item\" onClick={pageUp} disabled={page >= 9}>\n              {\">\"}\n            </button>\n            <button className=\"item\" onClick={pageEnd} disabled={page >= 9}>\n              {\">>\"}\n            </button>\n          </div>\n        </div>\n        <dl>\n          {res.length > 0 ? \n            <>\n            {res.map((data, i) => (\n              <div key={i} className=\"news\">\n                <dt>\n                  <h3>\n                    {page * 10 + i + 1}\n                    {\". \"}\n                    {data.title}\n                  </h3>\n                </dt>\n                <dd>\n                  <b>Breif: </b>\n                  {data.description == null\n                    ? \"description not found\"\n                    : data.description}\n                </dd>\n                <a href={data.link} target=\"_blank\" rel=\"noreferrer\">\n                  {\" \"}\n                  read more{\" >>\"}{\" \"}\n                </a>\n                <hr />\n              </div>\n            ))}\n            </>:\n            <>\n              <h2> loading ....</h2>\n            </>}\n        </dl>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}